<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Installing Linux in VirtualBox - Linux Systems Administration</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>

        <!-- Fetch store.js from local - TODO add CDN when 2.x.x is available on cdnjs -->
        <script src="store.js"></script>

    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = store.get('mdbook-theme');
            if (theme === null || theme === undefined) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = store.get('mdbook-sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li><a href="./linux-sysadmin.html"><strong>1.</strong> Linux Systems Administration</a></li><li><a href="./p1-system-basics.html"><strong>2.</strong> System Basics</a></li><li><ul class="section"><li><a href="./01-history-linux-unix.html"><strong>2.1.</strong> History of Unix and Linux</a></li><li><a href="./02-quick-ssh-connect.html"><strong>2.2.</strong> Connect to a Remote Server</a></li><li><a href="./03-filesystem-file-management.html"><strong>2.3.</strong> Linux Filesystems and File Management</a></li><li><a href="./04-file-attributes.html"><strong>2.4.</strong> File Attributes</a></li><li><a href="./05-text-processing-part-1.html"><strong>2.5.</strong> Text Processing, Part 1</a></li><li><a href="./06-text-processing-part-2.html"><strong>2.6.</strong> Text Processing, Part 2</a></li><li><a href="./07-text-editors.html"><strong>2.7.</strong> Text Editors</a></li><li><a href="./08-revisiting-paths.html"><strong>2.8.</strong> Revisiting Paths</a></li><li><a href="./09-bash-scripting.html"><strong>2.9.</strong> Bash Scripting</a></li><li><a href="./10-regular-expressions.html"><strong>2.10.</strong> Regular Expressions</a></li></ul></li><li><a href="./p2-managing-services-software.html"><strong>3.</strong> Managing Services and Software</a></li><li><ul class="section"><li><a href="./11-installing-linux.html" class="active"><strong>3.1.</strong> Installing Linux in VirtualBox</a></li><li><a href="./12-logical-volumes.html"><strong>3.2.</strong> Logical Volume Management</a></li><li><a href="./13-virtualbox-nat.html"><strong>3.3.</strong> Using NAT in VirtualBox</a></li><li><a href="./14-webconsole-nat.html"><strong>3.4.</strong> NAT Table in VirtualBox</a></li><li><a href="./15-managing-users-groups.html"><strong>3.5.</strong> Managing Users and Groups</a></li><li><a href="./16-systemd.html"><strong>3.6.</strong> systemd</a></li><li><a href="./17-backup-and-using-dnf.html"><strong>3.7.</strong> Backups and DNF</a></li></ul></li><li><a href="./p3-networking-security.html"><strong>4.</strong> Networking and Security</a></li><li><ul class="section"><li><a href="./18-tcip-networking.html"><strong>4.1.</strong> TCIP Networking</a></li><li><a href="./19-networking-dns-domains.html"><strong>4.2.</strong> DNS and Domain Names</a></li><li><a href="./20-security-chroot.html"><strong>4.3.</strong> Security and chroot</a></li><li><a href="./21-security-firewall.html"><strong>4.4.</strong> Security and Firewalls</a></li></ul></li><li><a href="./p4-lamp.html"><strong>5.</strong> Creating a LAMP Server</a></li><li><ul class="section"><li><a href="./22-httpd-apache.html"><strong>5.1.</strong> Apache2 Web Server</a></li><li><a href="./23-httpd-php.html"><strong>5.2.</strong> Apache2 and PHP</a></li><li><a href="./24-httpd-virtualhosts.html"><strong>5.3.</strong> Apache2 and Virtual Hosts</a></li><li><a href="./25-httpd-mysql.html"><strong>5.4.</strong> Apache2 and MySQL</a></li></ul></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page" tabindex="-1">
                
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars" title="Toggle sidebar"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush" title="Change theme"></i>
                    </div>

                    <h1 class="menu-title">Linux Systems Administration</h1>

                    <div class="right-buttons">
                        <a href="print.html">
                            <i id="print-button" class="fa fa-print" title="Print this book"></i>
                        </a>
                    </div>
                </div>

                <div id="content" class="content">
                    <a class="header" href="./11-installing-linux.html#ubuntu-server-on-google-cloud" id="ubuntu-server-on-google-cloud"><h1>Ubuntu Server on Google Cloud</h1></a>
<a class="header" href="./11-installing-linux.html#google-cloud-setup" id="google-cloud-setup"><h2>Google Cloud Setup</h2></a>
<a class="header" href="./11-installing-linux.html#google-account" id="google-account"><h3>Google Account</h3></a>
<p>I imagine most of you already have a Google account.
If not, then go ahead and create one at <a href="https://www.google.com">https://www.google.com</a>.</p>
<a class="header" href="./11-installing-linux.html#google-billing" id="google-billing"><h2>Google Billing</h2></a>
<p>If you already have a Google account,
or after you've created one,
the first thing to do is to set up a billing account for Google Cloud,
where we will create, administer, and manage our virtual Linux servers.
That bad news is that we have to spend some money, but
the good news is that our bills by the end of the semester should
only amount to a couple of dollars, at most.</p>
<p><strong><a href="https://cloud.google.com/billing/docs/how-to/manage-billing-account">Create, modify, or close your self-serve Cloud Billing account</a></strong></p>
<a class="header" href="./11-installing-linux.html#gcloud-installation" id="gcloud-installation"><h2>gcloud Installation</h2></a>
<p>After you have set up billing,
then the next step is to install gcloud on your local machines.</p>
<p><strong><a href="https://cloud.google.com/sdk/docs/install">Install the gcloud CLI</a></strong></p>
<p>There are installation instructions for macOS and Windows.
Follow these instructions closely.
Note that for macOS,
you have to choose among three different platforms.
If you have an older macOS machine (before November 2020 or so),
it's likely that you'll select <strong>macOS 64-bit (x86_64)</strong>.
If you have a newer macOS machine,
then it's likely you'll have to select <strong>macOS 64-bit (arm64, Apple M1
silicon).</strong>
It's unlikely that any of you are using a 32-bit macOS operating system.
If you're not sure which macOS system you have,
then let me know and I can help you determine the appropriate platform.
Alternatively, follow these instructions to find your processor information:</p>
<ul>
<li>click on the Apple menu</li>
<li>choose <strong>About This Mac</strong></li>
<li>locate the <strong>Processor</strong> or <strong>Chip</strong> information</li>
</ul>
<a class="header" href="./11-installing-linux.html#gcloud-project" id="gcloud-project"><h2>gcloud Project</h2></a>
<p>Once you've installed gcloud,
log into <a href="https://console.cloud.google.com/">Google Cloud Console</a>,
which should take you to the Dashboard page.</p>
<p>Our first goal is to create a <strong>virtual machine (VM)</strong> <em>instance</em>.
A VM is basically a virtualized operating system.
That means instead of installing an operating system
(like Linux, macOS, Windows, etc) on a physical machine,
software is used to mimic the process.</p>
<p>gcloud offers a number of Linux-based operating systems
to create VMs with.
We're going to use the Ubuntu operating system in this class
and specifically the Ubuntu 20.04 LTS version.</p>
<blockquote>
<p>Ubuntu is a Linux distribution.
A new version of Ubuntu is released every six months.
The 20.04 signifies that this is the April 2020 version.
LTS signifies <strong>Long Term Support</strong>.
LTS versions are released every two years,
and Canonical LTD,
the owners of Ubuntu,
provide standard support for LTS versions for five years.
Non-LTS versions of Ubuntu only receive nine months of standard support.</p>
</blockquote>
<p>To create your VMThen follow these steps:</p>
<ul>
<li>Click the <strong>Select from</strong> drop-down list.</li>
<li>In the window, create a <strong>New Project</strong>.</li>
<li>In the next window, name the project.
<ul>
<li>You can name the project anything.</li>
<li>E.g., I am using the name <strong>sysadmin-418</strong>.</li>
<li>Click on the <strong>Create</strong> button.</li>
<li>Leave the organization field set to <strong>No Organization</strong>.</li>
</ul>
</li>
<li>Next, click on <strong>Create a VM</strong>.</li>
<li>Provide a name for your <strong>instance</strong>.
<ul>
<li>E.g., I chose <strong>fall-2022</strong> (no spaces)</li>
</ul>
</li>
<li>Under the <strong>Series</strong> dropdown box, make sure <strong>E2</strong> is selected.</li>
<li>Under the <strong>Machine type</strong> dropdown box, select <strong>e2-micro (2 vCPU, 1 GB memory)</strong>
<ul>
<li>This is the lowest cost virtual machine and perfect for our needs.</li>
</ul>
</li>
<li>Under <strong>Boot disk</strong>, click on the <strong>Change</strong> button.</li>
<li>In the window, select <strong>Ubuntu</strong> from the <strong>Operating system</strong> dropdown box.</li>
<li>Select <strong>Ubuntu 20.04 LTS</strong></li>
<li>Leave <strong>Boot disk type</strong> should be set to <strong>Balanced persistant disk</strong></li>
<li>Disk size should be set to <strong>10 GB</strong>.</li>
<li>Click on the <strong>Select</strong> button.</li>
<li>Check the <strong>Allow HTTP Traffic</strong> button</li>
<li>Finally, click on the <strong>Create</strong> button to create your VM instance.</li>
</ul>
<ul>
<li>Click on the navigation menu: <code>☰</code></li>
<li>Click on <strong>Compute Engine</strong></li>
<li>Click on <strong>VM instances</strong></li>
</ul>
<pre><code>apt update
apt upgrade
apt autoremove
</code></pre>
<p>The first command will sync your local repository with the remove repositories
that manage software updates. The second command will update the software on
your system if updates are available.</p>
<ol>
<li>
<p>We do not normally want to work in the <code>root</code> account. So next we need to
a regular user. To create a new user, do the next command. Instead of
<strong>sean</strong>, create a username that you like. Make sure it is one word and that
it is all lowercase:</p>
<pre><code>useradd -m -U -s /usr/bin/bash -G wheel sean
</code></pre>
</li>
</ol>
<p>The above command will create a new user named <em>sean</em> and put that user in
group of the same name, create a home directory for that user, make <code>bash</code>
the default shell for that user, and assign that user to the <strong>wheel</strong> group,
which will make that user an administrator of the system. Read <code>man useradd</code>
for more details.</p>
<ol>
<li>
<p>Next create a password for your new user:</p>
<pre><code>passwd sean
</code></pre>
<p>Once you have completed these steps, you can power off the machine:</p>
<pre><code>poweroff
</code></pre>
</li>
</ol>
<a class="header" href="./11-installing-linux.html#clone-the-machine" id="clone-the-machine"><h2>Clone the machine</h2></a>
<p>In the VirtualBox Manager, right click on our installation, and then select <strong>Clone</strong>. Accept the default name or rename it as you prefer. Be sure to choose <strong>Full clone</strong>.</p>
<p>That's good for now. Congratulations! You have just completed your first installation of a Linux server.</p>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a rel="prev" href="./p2-managing-services-software.html" class="mobile-nav-chapters previous" title="Previous chapter">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="./12-logical-volumes.html" class="mobile-nav-chapters next" title="Next chapter">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="./p2-managing-services-software.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="./12-logical-volumes.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        

        

        

        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS script -->
        

    </body>
</html>
